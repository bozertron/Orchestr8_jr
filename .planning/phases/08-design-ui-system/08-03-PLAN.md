---
phase: 08-design-ui-system
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - IP/plugins/06_maestro.py
  - IP/styles/orchestr8.css
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Summon panel emerges from bottom with rise animation"
    - "Dismiss uses diamond (◇) not X"
    - "Text-first minimal chrome interface"
    - "No breathing animations"
  artifacts:
    - path: "IP/plugins/06_maestro.py"
      provides: "Summon interface with emergence animation"
      contains: "emergence"
    - path: "IP/styles/orchestr8.css"
      provides: "Emergence keyframes and diamond dismiss"
      contains: "@keyframes emergence"
  key_links:
    - from: "build_summon_results"
      to: "orchestr8.css"
      via: "CSS class"
      pattern: "emergence.*summon"
---

<objective>
Refine the Summon interface in 06_maestro.py with Void Design patterns: emergence animation (not breathing), diamond dismiss (not X), and text-first minimal chrome.

Purpose: Research identifies summon panel as priority for refinement. Current implementation likely lacks proper emergence animation and may use incorrect dismiss patterns.
</objective>

<execution_context>
@/home/bozertron/.config/opencode/get-shit-done/workflows/execute-plan.md
@/home/bozertron/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@IP/plugins/06_maestro.py - Main UI with Summon panel
@IP/styles/orchestr8.css - Void Design CSS with emergence
@.planning/phases/08-design-ui-system/08-RESEARCH.md - Research patterns
</context>

<tasks>

<task type="auto">
  <name>Add summon-specific CSS to orchestr8.css</name>
  <files>IP/styles/orchestr8.css</files>
  <action>
    Add Summon panel CSS classes:

    1. Add summon-specific classes:
       - `.summon-container` - Main panel container, bottom-anchored
       - `.summon-results` - Results list area
       - `.summon-item` - Individual result item
       - `.summon-input` - Search input field
       - `.summon-dismiss` - Diamond dismiss button (rotated square)
       - `.summon-rise` - Rise animation variant for summon

    2. Ensure emergence animation is available:
       - Already present: `@keyframes emergence`
       - Add `.emerge-fast` variant (200ms for summon)

    3. Add diamond dismiss styling:
       ```css
       .diamond-dismiss {
           width: 12px;
           height: 12px;
           border: 1.5px solid var(--blue-dominant);
           transform: rotate(45deg);
           background: transparent;
           cursor: pointer;
       }
       .diamond-dismiss:hover {
           border-color: var(--gold-metallic);
       }
       ```

    4. Bottom-anchored input per Void Design Pattern 3:
       - Fixed position at bottom
       - z-index 20
       - max-width 600px centered
  </action>
  <verify>
    grep -q "summon-container" IP/styles/orchestr8.css && \
    grep -q "diamond-dismiss" IP/styles/orchestr8.css
  </verify>
  <done>
    orchestr8.css contains summon-specific classes with emergence and diamond dismiss
  </done>
</task>

<task type="auto">
  <name>Refactor Summon panel in 06_maestro.py</name>
  <files>IP/plugins/06_maestro.py</files>
  <action>
    Refactor Summon panel implementation:

    1. Find build_summon_results() function (around line 1228)

    2. Add emergence animation class:
       - Add `class="emerge-fast"` to summon container
       - Or inline: `style="animation: emergence 300ms ease-out"`

    3. Replace any ✕ dismiss buttons with diamond:
       - Search for close/dismiss buttons in summon
       - Replace ✕ character with styled diamond div/span
       - Use CSS: `transform: rotate(45deg)`

    4. Ensure text-first minimal chrome:
       - Remove unnecessary borders
       - Use typography for hierarchy
       - Subtle borders only: 1px solid rgba(31, 189, 234, 0.2)

    5. Check for breathing animations:
       - Remove any opacity cycling
       - Replace with emergence (translateY + scale + opacity)

    6. Fix button callbacks:
       - Any summon buttons should use `on_click` not `on_change`
  </action>
  <verify>
    grep -q "emerge" IP/plugins/06_maestro.py && \
    ! grep -q "✕" IP/plugins/06_maestro.py
  </verify>
  <done>
    Summon panel uses emergence animation, diamond dismiss, text-first interface
  </done>
</task>

</tasks>

<verification>
1. Open orchestr8.py - Summon panel shows at bottom
2. Type query - Panel emerges with animation
3. Click dismiss - Diamond button rotates away
4. Verify no breathing/pulsing animations
5. Verify text is bright (not dimmed)
</verification>

<success_criteria>
- Summon panel emerges with rise animation
- Diamond dismiss button (◇) instead of X
- Text-first minimal chrome
- No breathing animations
- Bottom-anchored input per Void Design Pattern 3
</success_criteria>

<output>
After completion, create `.planning/phases/08-design-ui-system/08-03-SUMMARY.md`
</output>
